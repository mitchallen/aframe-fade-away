<html>
  <head>
    <title>aframe fade away</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
        <a-assets>
            <a-mixin id="ball" geometry="primitive: sphere; radius: 0.2;"></a-mixin>
            <a-mixin id="fader"
            animation="property: material.opacity; from:1; to:0; dur:10000; loop:false; easing:linear;"></a-mixin>
        </a-assets>
        <a-entity id="rig" position="0 1.6 3">
            <a-entity id="camera" camera look-controls></a-entity>
        </a-entity>
        <a-sky color="#333333"></a-sky>
    </a-scene>
    <script>
        let sphereCount = 0;
        setInterval(() => {
          const radius = 1.0
          const randomValue = () => Math.random() * 2 * radius - radius;
          const sphere = document.createElement("a-entity");
          // sphere.setAttribute("geometry", "primitive", "sphere");
          sphere.setAttribute('mixin', 'fader ball');
          sphere.setAttribute("position", `${randomValue()} ${randomValue()} ${randomValue()}`);
          sphere.setAttribute("scale", "0.5 0.5 0.5");
          sphere.setAttribute('material', 'color', '#39ff14')
          sphere.setAttribute('transparent', 'true')
          sphere.addEventListener("animationcomplete", () => {
            // console.log("DELETING NODE")
            sphere.parentNode.removeChild(sphere);
          });
          document.querySelector("a-scene").appendChild(sphere);
          sphereCount++;
        }, 1000);
      </script>
  </body>
</html>